<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>ArcGIS JavaScript: Châu Đức Boundary (Manual)</title>
  <style>
    html,
    body,
    #viewDiv {
      padding: 0;
      margin: 0;
      height: 100%;
      width: 100%;
    }
  </style>

  <link rel="stylesheet" href="https://js.arcgis.com/4.26/esri/themes/light/main.css" />
  <script src="https://js.arcgis.com/4.26/"></script>
</head>

<body>
  <div id="viewDiv"></div>

  <script>
    require([
      "esri/Map",
      "esri/views/MapView",
      "esri/geometry/Polygon",
      "esri/geometry/Polyline", // Import Polyline
      "esri/symbols/SimpleFillSymbol",
      "esri/symbols/SimpleLineSymbol", // Import SimpleLineSymbol
      "esri/layers/GraphicsLayer",
      "esri/Graphic"
    ], function(Map, MapView, Polygon, Polyline, SimpleFillSymbol, SimpleLineSymbol, GraphicsLayer, Graphic) {
      var map = new Map({
        basemap: "topo-vector"
      });

      var view = new MapView({
        container: "viewDiv",
        map: map,
        center: [107.156, 10.641],
        zoom: 11
      });

      view.popup.autoOpenEnabled = false;


      const polygonCoordinates = [
        [107.206331117818, 10.774048817050751],[107.20688043631974, 10.758399043337345],[107.22281061000548, 10.756780039233625],[107.23105035609922, 10.763795606001056],[107.23544489363563, 10.761636994586851],[107.2387407941686, 10.762176630876732],[107.24148737619986, 10.760018028455443],[107.24313532122767, 10.759478347128933],[107.24478326625544, 10.755700725784767],[107.3008135543612, 10.754081707196548],[107.29916558837864, 10.749764340147705],[107.30301080741334, 10.749764340147705],[107.3008135543612, 10.744907214237744],[107.3041094444168, 10.72709706029869],[107.3008135543612, 10.719540950084285],[107.30520808142025, 10.713603843848286],[107.3002642253821, 10.703348601731497],[107.3057573894446, 10.698490720259805],[107.30630671842371, 10.694712316491707],[107.3041094444168, 10.692013430787117],[107.3041094444168, 10.688234966949548],[107.29916558837864, 10.685536023647073],[107.3008135543612, 10.682837056355224],[107.30740533447239, 10.676899231543834],[107.31564508056611, 10.669881671367573],[107.32168757360773, 10.670421481519359],[107.32553279264242, 10.67527981212691],[107.33157526472927, 10.676359432894309],[107.33706842879175, 10.676899231543834],[107.34201228482989, 10.67527981212691],[107.34530817488549, 10.676359432894309],[107.35080133894799, 10.677439049826503],[107.35574519498613, 10.67527981212691],[107.35629450301047, 10.669341860257589],[107.36123835904863, 10.664483434784765],[107.36453424910422, 10.661244455096263],[107.36673152311113, 10.656925734436081],[107.36721216239374, 10.6546988868906],[107.36528955287638, 10.64633116618717],[107.36638818987984, 10.640662570724071],[107.36281763533468, 10.63796320545527],[107.3563631665135, 10.626220692768818],[107.35512720250398, 10.623791151172417],[107.35320459822533, 10.622846322791245],[107.35512720250398, 10.620011820115128],[107.35801111678, 10.613802831597747],[107.35704981202132, 10.612183071812492],[107.35553918876093, 10.612318049976851],[107.35238062047273, 10.610023382185657],[107.35141931571407, 10.607323746132991],[107.35169397496492, 10.605973919173083],[107.35402857073923, 10.605164011900072],[107.35691247977655, 10.602059385258096],[107.35938440255696, 10.598819732768783],[107.36295495710209, 10.59814480128119],[107.3651522258703, 10.59328526301952],[107.36268030308993, 10.589505555122239],[107.36199365234359, 10.583970896536155],[107.35787377929672, 10.58127103084342],[107.3565004882811, 10.579111102638661],[107.35265527972378, 10.573711261947604],[107.35073267020644, 10.570471330469461],[107.33823572405971, 10.565881340694531],[107.33576379604065, 10.564531331253276],[107.3236788335315, 10.5598062463448],[107.32216821289046, 10.558051199246874],[107.31200585989873, 10.558456205062745],[107.30665002546168, 10.561561278271075],[107.30307946764233, 10.56000874558821],[107.29944024697481, 10.56034625347232],[107.29895959492289, 10.560886264800944],[107.29806695563177, 10.561291274605932],[107.29683099358674, 10.56277630084073],[107.29614434775152, 10.563248805459224],[107.28941522098916, 10.566488833737651],[107.28859124585593, 10.56797382969801],[107.28824792310202, 10.568986325986922],[107.28762994240694, 10.57013382341002],[107.2872179548403, 10.571146312576625],[107.28426537968059, 10.57101130854923],[107.28179345559053, 10.572091297907942],[107.28096948111212, 10.572158798404146],[107.27980218387981, 10.573373771324505],[107.27939019631319, 10.574251257502064],[107.2764462037639, 10.576318394179436],[107.27624021063542, 10.576723381056695],[107.2752102423737, 10.574090949076327],[107.27349362860419, 10.57355095581469],[107.27335629897877, 10.569771015009408],[107.27095303970142, 10.568421020090414],[107.26985440793665, 10.569686638086871],[107.26861844654647, 10.569821640121829],[107.26491055975654, 10.567931642280211],[107.25982938326067, 10.566446643540939],[107.25955472400982, 10.565771640804176],[107.24870572551023, 10.549841141720542],[107.24815640962785, 10.546600948295058],[107.24815640962785, 10.545115836222342],[107.24661145723528, 10.540255453521294],[107.24386487520403, 10.539445372836044],[107.24304090269013, 10.538635310621153],[107.24139295242364, 10.539445372836044],[107.24056897467105, 10.541605569526855],[107.23974500215715, 10.542955679612144],[107.2369984201259, 10.546465936061768],[107.236174447612, 10.54700597433917],[107.23013196504779, 10.551056215757743],[107.22711072376568, 10.551056215757743],[107.22903333066368, 10.5607765631271],[107.22903333066368, 10.561316596874347],[107.22079358456995, 10.562936620323004],[107.21832166178956, 10.556456464991216],[107.21722303002481, 10.554836397088504],[107.21557507975832, 10.555106414148439],[107.21310315566825, 10.551866265882888],[107.19827161243761, 10.552406294681091],[107.19607434694356, 10.544035767537467],[107.18948254980663, 10.540795492393459],[107.17932019943422, 10.547005984639547],[107.17547498563822, 10.552676313874732],[107.17272840360697, 10.558346528271537],[107.17272840360697, 10.560236579930505],[107.17272840360697, 10.565636657588383],[107.17217908510524, 10.57022665102034],[107.17135511259134, 10.574006586215456],[107.169432503074, 10.581836320794828],[107.16805921205837, 10.598305097129272],[107.16805921205837, 10.598305097129272],[107.16229138874502, 10.610183661513798],[107.16036878446636, 10.61234335515785],[107.16613660254102, 10.619632189914618],[107.1677845528075, 10.620981956579262],[107.16339002574847, 10.637178701547871],[107.1631153664976, 10.640687878705016],[107.16503797601496, 10.643927087278472],[107.16586194852886, 10.647706117015876],[107.16696058029362, 10.649865540070754],[107.16696058029362, 10.654454269679094],[107.16558728927808, 10.655803877124152],[107.16448865751333, 10.657423410518708],[107.1669605802937, 10.666330654132459],[107.16448865751333, 10.66983949544154],[107.1639393390116, 10.673618208679885],[107.16009412521561, 10.680365786702609],[107.16174207548208, 10.681985179013319],[107.16531263002723, 10.68603363231194],[107.16723523954458, 10.689812144142017],[107.16558728927808, 10.707354594099591],[107.16421399826247, 10.709513598432396],[107.16503797077637, 10.715720639235608],[107.16146741623123, 10.71383155578948],[107.16036878446646, 10.710593081960655],[107.15350232676899, 10.710323217873505],[107.14718518757327, 10.710323217873505],[107.1401814041794, 10.710458149947137],[107.1401814041794, 10.71868918100519],[107.13949475867159, 10.728134344182994],[107.1421040110774, 10.724626174624149],[107.1447132647929, 10.725030964407114],[107.14526258067526, 10.725705614557407],[107.1463612137497, 10.730158269351223],[107.14581189655765, 10.731237690825612],[107.14402661928507, 10.732317107159295],[107.13880811250895, 10.741357072110251],[107.13702283392671, 10.743785673388345],[107.13825879597174, 10.74486505003975],[107.14402661797541, 10.74486505003975],[107.15515027441614, 10.74419044265821],[107.1570728839335, 10.746079336440063],[107.16105542735494, 10.748912660099867],[107.16366467976076, 10.75039677164743],[107.17176709622906, 10.755658560521479],[107.17355237612097, 10.759840943535867],[107.17574964226985, 10.760785345488202],[107.17835889205631, 10.76199956523806],[107.18041882857975, 10.763483617537336],[107.18508802012835, 10.768205535494285],[107.18920789317522, 10.771713197296915],[107.19593702124723, 10.771713197296915],[107.1986836032785, 10.771713197296915],[107.2033527895884, 10.773736830199558],[107.20692334937222, 10.774006647921665],[107.206331117818, 10.774048817050751]
      ];

      const polygon = new Polygon({
        rings: [polygonCoordinates]
      });

      const fillSymbol = new SimpleFillSymbol({
        color: [255, 255, 0, 0.5],
        outline: {
          color: [0, 0, 0],
          width: 1
        }
      });

      const polygonGraphic = new Graphic({
        geometry: polygon,
        symbol: fillSymbol
      });

      const graphicsLayer = new GraphicsLayer({
        graphics: [polygonGraphic]
      });

      map.add(graphicsLayer);

      var markerLayer = new GraphicsLayer();
      map.add(markerLayer);

      var pointsOfInterest = [
        {
          name: "Thị trấn Ngãi Giao",
          location: [ 107.2376021374666,10.655830500115123],
          area: 13.96,
          population: 15066 
        },
        {
          name: "Xã Cù Bị",
          location: [107.18702965575568,10.739303326733992 ],
          area: 46.71,
          population: 8642
        },
        {
          name: "Xã Quảng Thành",
          location: [107.28270981496136,10.703663202529123],
          area: 30.88,
          population: 9227
        },
        {
          name: "Xã Láng Lớn",
          location: [107.17731605382878,10.658937312006683],
          area: 20.89,
          population: 5028
        },
        {
          name: "Xã Bàu Chinh",
          location: [ 107.22611081854232,10.677938096542341 ],
          area: 19.84,
          population: 6529
        },
        {
          name: "Xã Bình Ba",
          location: [ 107.23036838831969,10.61813331046595],
          area: 31.16,
          population: 7854
        },
        {
          name: "Xã Suối Nghệ",
          location: [107.19005288315398,10.60427760113021],
          area: 24.42,
          population: 11894
        },
        {
          name: "Xã Bình Trung",
          location: [107.28433569555524,10.642322586055249],
          area: 16.62,
          population: 5468 
        },
        {
          name: "Xã Bình Giã",
          location: [107.26256727537897,10.643626624802193],
          area: 18.93,
          population: 9782 
        },
        {
          name: "Xã Xuân Sơn",
          location: [107.31961314203303,10.639904616130565],
          area: 17.11,
          population: 9117
        },
        {
          name: "Xã Sơn Bình",
          location: [107.34359720015212,10.64983357586959],
          area: 22.89,
          population: 8033 
        },
        {
          name: "Xã Suối Rao",
          location: [107.32616242925629,10.590807159761248],
          area: 33.88,
          population: 2378 
        },
        {
          name: "Xã Đá Bạc",
          location: [107.27816497133156,10.594092766261614],
          area: 43.65,
          population: 5736,
        },
        {
          name: "Xã Nghĩa Thành",
          location: [107.19023779552396,10.571540561355942],
          area: 22.12,
          population: 12350
        },
        {
          name: "Xã Kim Long",
          location: [107.2317839442099,10.704851566257602],
          area: 22.11,
          population: 16590
        }
      ]

      pointsOfInterest.forEach(function(point) {
        var marker = new Graphic({
          geometry: {
            type: "point",
            longitude: point.location[0],
            latitude: point.location[1]
          },
          symbol: {
            type: "picture-marker",
            url:"./wards.jpg",
            width: "24px",
            height: "24px"
          },
          popupTemplate: {
            title: `${point.name}`,
            content: `Diện tích: ${point.area} km<sup>2</sup><br>Dân số: ${point.population}`
          }
        });
        markerLayer.add(marker);
      });

      var schools = [
  {
    name: "Trường Mầm non Hoa Hồng",
    location: [107.250278, 10.600278]
  },
  {
    name: "Trường Mầm non Sao Mai",
    location: [107.260278, 10.605278]
  },
  {
    name: "Trường Mầm non Tuổi Thơ",
    location: [107.270278, 10.610278]
  },
  {
    name: "Trường Mầm non Việt Hưng",
    location: [107.280278, 10.615278]
  },
  // ...

  {
    name: "Trường Tiểu học Châu Đức A",
    location: [107.250278, 10.600278]
  },
  {
    name: "Trường Tiểu học Châu Đức B",
    location: [107.260278, 10.605278]
  },
  {
    name: "Trường Tiểu học Châu Đức C",
    location: [107.270278, 10.610278]
  },
  {
    name: "Trường Tiểu học Kim Long",
    location: [107.280278, 10.615278]
  },
  {
    name: "Trường Tiểu học Nguyễn Du",
    location: [107.290278, 10.620278]
  },
  // ...

  {
    name: "Trường Trung học cơ sở Châu Đức A",
    location: [107.250278, 10.600278]
  },
  {
    name: "Trường Trung học cơ sở Châu Đức B",
    location: [107.260278, 10.605278]
  },
  {
    name: "Trường Trung học cơ sở Châu Đức C",
    location: [107.270278, 10.610278]
  },
  {
    name: "Trường Trung học cơ sở Kim Long",
    location: [107.280278, 10.615278]
  },
  {
    name: "Trường Trung học cơ sở Nguyễn Du",
    location: [107.290278, 10.620278]
  },
  // ...

  {
    name: "Trường Trung học phổ thông Châu Đức",
    location: [107.250278, 10.600278]
  },
  {
    name: "Trường Trung học phổ thông chuyên Lê Quý Đôn",
    location: [107.260278, 10.605278]
  },
  {
    name: "Trường Trung học phổ thông Nguyễn Huệ",
    location: [107.270278, 10.610278]
  },
  {
    name: "Trường Trung học phổ thông Nguyễn Trãi",
    location: [107.280278, 10.615278]
  },
  // ...
];
schools.forEach(function(point) {
        var marker = new Graphic({
          geometry: {
            type: "point",
            longitude: point.location[0],
            latitude: point.location[1]
          },
          symbol: {
            type: "picture-marker",
            url:"./school.png",
            width: "24px",
            height: "24px"
          },
          popupTemplate: {
            title: `${point.name}`,
          }
        });
        markerLayer.add(marker);
      });

      view.on("click", function(event) {
        view.hitTest(event).then(function(response) {
          if (response.results.length) {
            var graphic = response.results.filter(function(result) {
              return result.graphic.layer === markerLayer;
            })[0].graphic;

            view.popup.open({
              title: graphic.popupTemplate.title,
              content: graphic.popupTemplate.content
            });

            view.popup.location = event.mapPoint;
          }
        });
      });


      const highwayCoordinates = [
[107.0386512905348, 10.65477715045308],[107.04991227791065, 10.630280668404241],[107.05183488218931, 10.62717629170043],[107.05286485045103, 10.626163987789225],[107.05382615520969, 10.624679263652503],[107.05478745996838, 10.623059566660647],[107.05636674673181, 10.6183353919463],[107.05698472349789, 10.612126359078948],[107.0560234239779, 10.609291762146938],[107.0545128059562, 10.597345661770976],[107.05423814670534, 10.595590826817384],[107.05492479221316, 10.590258772864106],[107.05513078796098, 10.588368906077957],[107.05492479221316, 10.58398167518505],[107.05616075622252, 10.570077111905555],[107.05725938798729, 10.566634619011488],[107.05801470223682, 10.565352117448162],[107.05904467049854, 10.564339609179092],[107.05973131600635, 10.56359709944927],[107.06206590654196, 10.561977079482872],[107.0629585477976, 10.561369567218492],[107.06350786629933, 10.560492046810785],[107.06412584306538, 10.559412021819352],[107.06474382507017, 10.55799448293696],[107.06536180707491, 10.555564396475678],[107.07030565787436, 10.54861154907434],[107.07112963038826, 10.547328969747864],[107.07167894888998, 10.545978878844704],[107.07215959864998, 10.544561275477141],[107.07215959864998, 10.543008656981142],[107.07250292140388, 10.541388525992218],[107.07332689915647, 10.539025817432405],[107.07421953517341, 10.53619054271885],[107.07518083993209, 10.535042918649042],[107.07593614894294, 10.534300343361728],[107.08149797650847, 10.528562173399548],[107.08218462201623, 10.523701524405617],[107.08321459027795, 10.521811248468461],[107.08973772260217, 10.512697265473518],[107.09193499137038, 10.508241443554315],[107.09461290989857, 10.501625106118771],[107.0976341511807, 10.500814931722841],[107.10051806021802, 10.499802211385772],[107.10573656502966, 10.498114331634127],[107.10621722002833, 10.497911791728942],[107.11624224339465, 10.498181850915872],[107.12358934823274, 10.499802211385772],[107.12798388576918, 10.499532151038705],[107.13224108582213, 10.500139785200084],[107.14240344143322, 10.499464637202822],[107.15167315054997, 10.500679902021181],[107.15366442357036, 10.500612388435963],[107.15531237383685, 10.500342328796672],[107.15737231036029, 10.499667181241735],[107.1642387654384, 10.493658302026535],[107.17393763323622, 10.488020652621913],[107.17445261736708, 10.4873454781726],[107.174795940121, 10.48683909636908],[107.1751049311234, 10.486096401301225],[107.17393763323622, 10.481944026989511],[107.17318232422535, 10.48110004213302],[107.16834147391903, 10.47377415800517],[107.16820414429357, 10.473200233161252],[107.1678951532912, 10.471647253362345],[107.16823847342582, 10.470161791819887],[107.16895945330451, 10.465536549846743],[107.16913111468146, 10.464287384417071],[107.1694701430197, 10.46206335281808],[107.16995079539906, 10.460611604601025],[107.17082626946926, 10.45820607586907],[107.17107517859678, 10.457395788546453]      ];

      const polyline = new Polyline({
  paths: [highwayCoordinates]
});

const lineSymbol = new SimpleLineSymbol({
  color: [255, 0, 0], 
  width: 3 
});

const highwayGraphic = new Graphic({
  geometry: polyline,
  symbol: lineSymbol
});

const highwayLayer = new GraphicsLayer({
  graphics: [highwayGraphic]
});

map.add(highwayLayer);


    });
  </script>
</body>

</html>
